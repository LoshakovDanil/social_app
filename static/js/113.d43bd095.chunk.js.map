{"version":3,"file":"static/js/113.d43bd095.chunk.js","mappings":"8MACA,EAA6D,qB,SCsF7D,EAxEgC,WAC9B,IAAMA,GAASC,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,MAAM,IAClDI,GAAYH,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKE,KAAK,IACpDC,GAAcL,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKI,SAAS,IAC1DC,GAAUP,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKK,OAAO,IACpDC,GAAWC,EAAAA,EAAAA,KAEjB,GAAIV,EACF,OAAO,SAAC,KAAQ,CAACW,GAAG,aA0BtB,OACE,0BACE,SAAC,KAAM,CACLC,oBAAkB,EAClBC,cAAe,CAAEC,MAAO,GAAIC,SAAU,GAAIP,QAAS,IACnDQ,SAdS,SACbC,EAA8D,GAE1D,IADFC,EAAa,EAAbA,cAAeC,EAAS,EAATA,UAEjBV,GAASK,EAAAA,EAAAA,IAAM,CAAEM,MAAOH,EAAOH,MAAOC,SAAUE,EAAOF,SAAUM,YAAY,EAAOb,QAAe,OAANS,QAAM,IAANA,OAAM,EAANA,EAAQT,WACrGU,GAAc,GACdC,GACF,EAQMG,SA7BW,SAACL,GAChB,IAAMM,EAAoB,CAAC,EAU3B,OATKN,EAAOH,QACVS,EAAOT,MAAQ,kCAEZG,EAAOF,WACVQ,EAAOR,SAAW,6BAEfE,EAAOT,SAA2B,KAAhBF,IACrBiB,EAAOf,QAAU,uBAEZe,CACT,EAiByB,SAElB,gBAAGA,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAASC,EAAY,EAAZA,aAAY,OAC/B,UAAC,KAAI,YACH,0BACE,SAAC,KAAK,CAACC,KAAK,OAAOC,KAAK,YAEzBJ,EAAOT,OAASU,EAAQV,QAAS,gBAAKc,UAAWC,EAAQ,SAAEN,EAAOT,SACnE,0BACE,SAAC,KAAK,CAACY,KAAK,WAAWC,KAAK,eAE7BJ,EAAOR,UAAYS,EAAQT,WAAY,gBAAKa,UAAWC,EAAQ,SAAEN,EAAOR,WACxEP,IAAW,gBAAKsB,IAAKtB,EAASuB,IAAI,0BAClCvB,IACC,0BACE,SAAC,KAAK,CAACkB,KAAK,QAAQC,KAAK,eAG7B,0BACE,SAACK,EAAA,EAAM,CAACC,SAAUR,EAAcC,KAAK,SAAQ,qBAI9CH,EAAOf,UAAW,gBAAKoB,UAAWC,EAAQ,SAAEN,EAAOf,WACnD,iBAAKoB,UAAWC,EAAQ,cAAGzB,EAAS,SAChC,KAKjB,C","sources":["webpack://react_app/./src/components/Login/Login.module.css?3530","components/Login/LoginFormPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formError\":\"Login_formError__R3ZNp\",\"error\":\"Login_error__ByltQ\"};","import { Field, Form, Formik } from 'formik'\nimport { Navigate } from 'react-router-dom'\n\nimport { useAppDispatch, useAppSelector } from '../../hook/hook'\nimport { Button } from '../common/Button/Button'\nimport { login } from '../../redux-toolkit/authSlice'\n\nimport s from './Login.module.css'\n\ntype ErrorType = {\n  login?: string\n  password?: string\n  captcha?: string\n}\n\nconst LoginFormPage: React.FC = () => {\n  const isAuth = useAppSelector(state => state.auth.isAuth)\n  const errorCode = useAppSelector(state => state.auth.error)\n  const errorStatus = useAppSelector(state => state.auth.errorType)\n  const captcha = useAppSelector(state => state.auth.captcha)\n  const dispatch = useAppDispatch()\n\n  if (isAuth) {\n    return <Navigate to=\"/profile\" />\n  }\n\n  const validate = (values: { login: string; password: string; captcha: string }) => {\n    const errors: ErrorType = {}\n    if (!values.login) {\n      errors.login = 'You need to type correct email'\n    }\n    if (!values.password) {\n      errors.password = 'You need to type password'\n    }\n    if (!values.captcha && errorStatus === 10) {\n      errors.captcha = 'Captcha is required'\n    }\n    return errors\n  }\n\n  const submit = (\n    values: { login: string; password: string; captcha?: string },\n    { setSubmitting, resetForm }: { setSubmitting: (isSubmitting: boolean) => void; resetForm: () => void },\n  ) => {\n    dispatch(login({ email: values.login, password: values.password, rememberMe: false, captcha: values?.captcha }))\n    setSubmitting(false)\n    resetForm()\n  }\n\n  return (\n    <div>\n      <Formik\n        enableReinitialize\n        initialValues={{ login: '', password: '', captcha: '' }}\n        onSubmit={submit}\n        validate={validate}\n      >\n        {({ errors, touched, isSubmitting }) => (\n          <Form>\n            <div>\n              <Field type=\"text\" name=\"login\" />\n            </div>\n            {errors.login && touched.login && <div className={s.error}>{errors.login}</div>}\n            <div>\n              <Field type=\"password\" name=\"password\" />\n            </div>\n            {errors.password && touched.password && <div className={s.error}>{errors.password}</div>}\n            {captcha && <img src={captcha} alt=\"Server is not working\" />}\n            {captcha && (\n              <div>\n                <Field type=\"input\" name=\"captcha\" />\n              </div>\n            )}\n            <div>\n              <Button disabled={isSubmitting} type=\"submit\">\n                Login\n              </Button>\n            </div>\n            {errors.captcha && <div className={s.error}>{errors.captcha}</div>}\n            {<div className={s.error}> {errorCode} </div>}\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n\nexport default LoginFormPage\n"],"names":["isAuth","useAppSelector","state","auth","errorCode","error","errorStatus","errorType","captcha","dispatch","useAppDispatch","to","enableReinitialize","initialValues","login","password","onSubmit","values","setSubmitting","resetForm","email","rememberMe","validate","errors","touched","isSubmitting","type","name","className","s","src","alt","Button","disabled"],"sourceRoot":""}